const modalPopup=document.querySelector(".modal-overlay"),feedbackBtn=document.querySelector(".main-contacts-btn"),closeBtn=modalPopup.querySelector(".modal-close"),modalForm=modalPopup.querySelector("form"),modalBlock=modalPopup.querySelector(".modal-content"),userName=modalPopup.querySelector("[name=name]"),userEmail=modalPopup.querySelector("[name=email]");let isStorageSupport=!0,storageName="";try{storageName=localStorage.getItem("name")}catch(a){isStorageSupport=!1}feedbackBtn.addEventListener("click",function(a){a.preventDefault(),modalPopup.classList.add("modal-show"),modalBlock.classList.add("modal-content-show"),storageName?(userName.value=storageName,userEmail.focus()):userName.focus()}),closeBtn.addEventListener("click",function(a){a.preventDefault(),modalPopup.classList.remove("modal-show"),modalBlock.classList.remove("modal-error")}),window.addEventListener("keydown",function(a){"Escape"===a.key&&modalPopup.classList.contains("modal-show")&&(a.preventDefault(),modalPopup.classList.remove("modal-show"),modalBlock.classList.remove("modal-error"))}),modalForm.addEventListener("submit",function(a){userName.value&&userEmail.value?isStorageSupport&&localStorage.setItem("name",userName.value):(a.preventDefault(),modalBlock.classList.remove("modal-error"),modalPopup.offsetWidth=modalPopup.offsetWidth,modalBlock.classList.add("modal-error"))});
